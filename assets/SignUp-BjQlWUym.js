import{r as l,u as g,a as v,j as e,L as w}from"./index-Dn-8SHVW.js";import{F as s,v as C,S}from"./Users-Df1pIjoG.js";import{C as u}from"./Card-CNC75MhM.js";import{A as b,B as y}from"./Button-BxLN3lEw.js";const N=()=>{const[h,n]=l.useState(!1),[d,t]=l.useState(""),{currentUser:p,registerUser:x}=g(),m=v();l.useEffect(()=>{if(p)return m("/")},[]);const[a,f]=l.useState({name:"",email:"",password:"",confirmPass:""}),o=c=>{const{name:r,value:i}=c.target;f({...a,[r]:i})},j=async c=>{try{if(c.preventDefault(),n(!0),t(""),a.password!==a.confirmPass)return n(!1),t("Passwords don't match");const{validationError:r}=await C(S,a);if(r)return n(!1),t(r);const i=await x(a);return i?(n(!1),t(i)):(n(!1),m("/"))}catch(r){console.error(r)}};return e.jsxs(e.Fragment,{children:[e.jsx(u,{children:e.jsxs(u.Body,{children:[e.jsx("h2",{className:"text-center mb-4",children:"Sign Up"}),d&&e.jsx(b,{variant:"danger",children:d}),e.jsxs(s,{onSubmit:j,children:[e.jsxs(s.Group,{id:"name",children:[e.jsx(s.Label,{children:"Name"}),e.jsx(s.Control,{type:"text",name:"name",value:a.name,onChange:o})]}),e.jsxs(s.Group,{id:"email",children:[e.jsx(s.Label,{children:"Email"}),e.jsx(s.Control,{type:"email",name:"email",value:a.email,onChange:o})]}),e.jsxs(s.Group,{id:"password",children:[e.jsx(s.Label,{children:"Password"}),e.jsx(s.Control,{type:"password",name:"password",value:a.password,onChange:o})]}),e.jsxs(s.Group,{id:"confirmPass",children:[e.jsx(s.Label,{children:"Confirm Password"}),e.jsx(s.Control,{type:"password",name:"confirmPass",value:a.confirmPass,onChange:o})]}),e.jsx(y,{disabled:h,className:"w-100 mt-4",type:"submit",children:"Sign Up"})]})]})}),e.jsxs("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",e.jsx(w,{to:"/login",children:"Login"})]})]})};export{N as default};
