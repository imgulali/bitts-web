import{r as o,u as f,a as v,j as e,L as w}from"./index-CrH6BZBm.js";import{F as a,v as L,L as b}from"./Users-CeFltKOt.js";import{C as u}from"./Card-DWTU4UTe.js";import{A as C,B as S}from"./Button-BkCH9sLM.js";const N=()=>{const[h,t]=o.useState(!1),[c,i]=o.useState(""),{currentUser:x,loginUser:p}=f(),d=v();o.useEffect(()=>{if(x)return d("/")},[]);const[r,g]=o.useState({email:"",password:""}),m=l=>{const{name:s,value:n}=l.target;g({...r,[s]:n})},j=async l=>{l.preventDefault();try{t(!0),i("");const{validationError:s}=await L(b,r);if(s)return t(!1),i(s);const n=await p(r);return n?(t(!1),i(n)):(t(!1),d("/"))}catch(s){console.error(s)}};return e.jsxs(e.Fragment,{children:[e.jsx(u,{children:e.jsxs(u.Body,{children:[e.jsx("h2",{className:"text-center mb-4",children:"Login"}),c&&e.jsx(C,{variant:"danger",children:c}),e.jsxs(a,{onSubmit:j,children:[e.jsxs(a.Group,{id:"email",children:[e.jsx(a.Label,{children:"Email"}),e.jsx(a.Control,{type:"email",name:"email",onChange:m,value:r.email})]}),e.jsxs(a.Group,{id:"password",children:[e.jsx(a.Label,{children:"Password"}),e.jsx(a.Control,{type:"password",name:"password",onChange:m,value:r.password})]}),e.jsx(S,{disabled:h,className:"w-100 mt-4",type:"submit",children:"Login"})]})]})}),e.jsxs("div",{className:"w-100 text-center mt-2",children:["Don't have an account? ",e.jsx(w,{to:"/signup",children:"Sign Up"})]})]})};export{N as default};
